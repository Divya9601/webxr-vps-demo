<!--<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebXR VPS Demo</title>
    <script type="module" src="main.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        #startButton {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 14px 24px;
            background: #007bff;
            color: white;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button id="startButton">Start AR</button>
</body>
</html>-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>WebXR AR Navigation</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
</head>
<body>
    <a-scene xr-mode-ui="enabled: true"
             webxr="optionalFeatures: hit-test;"
             renderer="colorManagement: true;"
             arjs
             embedded
             vr-mode-ui="enabled: false">
        <!-- Enable WebXR AR -->
        <a-entity camera
                  position="0 1.6 0"
                  raycaster="objects: .clickable"
                  cursor="fuse: false; rayOrigin: mouse"></a-entity>

        <!-- Ground -->
        <a-plane position="0 0 -4"
                 rotation="-90 0 0"
                 width="10"
                 height="10"
                 color="#ccc"></a-plane>

        <!-- Hotspot box 1 -->
        <a-box id="target1"
               class="clickable"
               color="tomato"
               position="0 0.3 -3"
               depth="0.3"
               height="0.3"
               width="0.3"></a-box>

        <!-- Hotspot box 2 -->
        <a-box id="target2"
               class="clickable"
               color="skyblue"
               position="2 0.3 -3"
               depth="0.3"
               height="0.3"
               width="0.3"></a-box>

        <!-- Rig to move -->
        <a-entity id="rig" position="0 0 0"></a-entity>

        <!-- Navigation Script -->
        <script>
            AFRAME.registerComponent("teleport-on-click", {
                init: function () {
                    this.el.addEventListener("click", () => {
                        const rig = document.querySelector("#rig");
                        rig.setAttribute("position", this.el.getAttribute("position"));
                    });
                },
            });

            document.querySelectorAll(".clickable").forEach((el) => {
                el.setAttribute("teleport-on-click", "");
            });
        </script>
    </a-scene>
</body>
</html>
